const camiseta=JSON.parse(localStorage.getItem("camiseta"));function showCount(e){if("/bag.html"!=window.location.pathname){let t=document.querySelector(".count");e>0?(t.textContent=bolsa.length,t.style.display="grid"):t.style.display="none"}}function sendMessage(e,t){let n=document.querySelector(".mensaje");n&&n.remove();const a=document.querySelector(".details");let o=document.createElement("DIV"),l=document.createElement("P");o.classList.add("mensaje"),o.classList.add(""+t),l.textContent=""+e,o.appendChild(l),a.appendChild(o),setTimeout(()=>{fadeOut(o)},1500)}function fadeOut(e){let t=100;setInterval(()=>{0===t?(e.remove(),clearInterval()):(e.style.opacity=t/100,t--)},8)}function cleanForm(){const e=document.querySelectorAll('input[type="radio"]'),t=document.querySelector("#color");e.forEach(e=>{e.checked=!1}),t.options.item(0).selected=!0,document.querySelector("#cantidad").value=0}!function(){if(document.querySelectorAll(".release .addToBag").forEach((function(e){e.href="shopbag.html",e.addEventListener("click",t=>{let n={id:e.parentElement.firstElementChild.dataset.id,nombre:e.parentElement.firstElementChild.dataset.nombre};localStorage.setItem("camiseta",JSON.stringify(n))})})),"/shopbag.html"===window.location.pathname){const e=document.querySelector(".product__img img"),t=document.querySelector(".product__name");e.src=`build/img/${camiseta.id}.png`,t.textContent="Camiseta unisex "+camiseta.nombre}}(),function(){if("/shopbag.html"===window.location.pathname){document.querySelector("#agregar").addEventListener("click",(function(e){e.preventDefault(),function(){let e=!1,t="";const n=document.querySelectorAll('input[type="radio"]'),a=document.querySelector("#color"),o=parseInt(document.querySelector("#cantidad").value);if(n.forEach(n=>{n.checked&&(e=!0,t=n.value)}),!e)return sendMessage("Elige una talla","error"),!1;if("none"===a.value)return sendMessage("Elige un color","error"),!1;if(o<1)return sendMessage("Elige una cantidad","error"),!1;return articulo.id=camiseta.id,articulo.nombre=camiseta.nombre,articulo.talla=t,articulo.color=a.value,articulo.cantidad=o,!0}()&&(bolsa.push(articulo),localStorage.setItem("bolsa",JSON.stringify(bolsa)),showCount(bolsa.length),sendMessage("Producto agregado a la bolsa","exito"),cleanForm())}))}}();const articulo={id:"",nombre:"",talla:"",cantidad:0,precio:6e4,valTotal:function(){return this.cantidad*this.precio}};let bolsa=JSON.parse(localStorage.getItem("bolsa"));null===bolsa?bolsa=new Array:showCount(bolsa.length);const BODY=document.querySelector("body"),navMenu=document.querySelector(".navMenu");function scrollNav(){const e=document.querySelectorAll(".links li a"),t=document.querySelector("#collapse");e.forEach((function(e){e.addEventListener("click",(function(e){const n=document.querySelector(e.target.attributes.href.value);n&&(e.preventDefault(),n.scrollIntoView({behavior:"smooth"}),t.checked=!1,navMenu.classList.toggle("activo"),navMenu.classList.toggle("inactivo"),BODY.classList.toggle("no-scroll"))}))}))}function showBag(){const e=document.querySelector(".bolsa__compras");for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("UL");let n=0;if(bolsa.length>0){bolsa.forEach(e=>{let a=document.createElement("LI"),o=document.createElement("IMG");o.src=`build/img/${e.id}.png`,o.alt="camiseta "+e.nombre;let l=document.createElement("DIV");l.classList.add("item__info");let c=document.createElement("H3");c.textContent="Camiseta unisex "+e.nombre,l.appendChild(c);let i=document.createElement("P");i.textContent="Talla: "+e.talla,l.appendChild(i);let r=document.createElement("P");r.textContent="Color: "+e.color,l.appendChild(r);let s=document.createElement("P");s.textContent="Cantidad: "+e.cantidad,l.appendChild(s);let d=document.createElement("P");d.classList.add("precio");let u=e.precio*e.cantidad;n+=u,d.textContent="Total: $"+u,l.appendChild(d),a.appendChild(o),a.appendChild(l);let m=document.createElement("P");m.innerHTML='<i class="fas fa-trash"></i>',m.dataset.id=e.id,m.setAttribute("onClick","deleteItem(this)"),a.appendChild(m),t.appendChild(a)}),e.appendChild(t);let a=document.createElement("H2");a.textContent="Tu total a pagar será: $"+n,e.appendChild(a);let o=document.createElement("DIV");o.classList.add("botones");let l=document.createElement("A");l.classList.add("button"),l.classList.add("btn-primary"),l.textContent="Ir a pagar",l.href="404.html",o.appendChild(l),e.appendChild(o);let c=document.createElement("A");c.classList.add("button"),c.classList.add("btn-primary"),c.textContent="Seguir mirando",c.href="shop.html",o.appendChild(c),e.appendChild(o)}else{const t=document.createElement("P"),n=document.createElement("A");t.textContent="Aún no tienes articulos en tu bolsa. Ve a la tienda y no te pierdas de nuestras ofertas...",n.classList.add("button"),n.classList.add("btn-primary"),n.textContent="Ir a la tienda",n.href="shop.html",e.appendChild(t),e.appendChild(n)}}function deleteItem(e){console.log("Borrando.. "+e.dataset.id),bolsa=bolsa.filter(t=>e.dataset.id!==t.id),localStorage.setItem("bolsa",JSON.stringify(bolsa)),showBag()}!function(){const e=document.querySelector(".menu-bars");function t(){e.style.opacity=.1,setTimeout(()=>{e.style.opacity=1},200)}document.querySelector("#collapse").addEventListener("click",(function(){navMenu.classList.toggle("activo"),navMenu.classList.toggle("inactivo"),BODY.classList.toggle("no-scroll")})),e.style.opacity=1,window.addEventListener("scroll",(function(e){window.requestAnimationFrame(t)}))}(),document.addEventListener("DOMContentLoaded",(function(){scrollNav()})),"/bag.html"===window.location.pathname&&showBag();
//# sourceMappingURL=bundle.js.map
